<!DOCTYPE html>
<html>
<head>
	<meta content = "text/html; charset=UTF-8 " />
	<title>index page</title>
	<link rel="stylesheet" type="text/css" href="css/bootstrap.min.css">
	<link rel="stylesheet" type="text/css" href="css/colorpicker.css">
	<link rel="stylesheet" type="text/css" href="css/font-awesome.min.css">
	<link rel="stylesheet" type="text/css" href="css/base.css">
	<link rel="stylesheet" type="text/css" href="css/index.css"></head>
<body class="row">
	<header id="header">
		<div class="navbar navbar-inverse" style="position: static;">
			<div class="navbar-inner">
				<div class="container">
					<a class="btn btn-navbar" data-toggle="collapse" data-target=".navbar-inverse-collapse">
						<span class="icon-bar"></span>
						<span class="icon-bar"></span>
						<span class="icon-bar"></span>
					</a>
					<a class="brand" href="index.html">DIY 设计编辑器</a>
					<div class="nav-collapse collapse navbar-inverse-collapse">
						<ul class="nav">
							<li class="dropdown">
								<a href="#" class="dropdown-toggle" data-toggle="dropdown">
									文件 <b class="caret"></b>
								</a>
								<ul class="dropdown-menu">
									<li>
										<a href="#">新建</a>
									</li>
									<li>
										<a id="file_save" href="#">提交图像（导出）</a>
									</li>
									<li>
										<a id="extend3D" href="#">展示效果</a>
									</li>
									<li class="divider"></li>
									<li class="nav-header">增强功能</li>
									<li>
										<a href="#">上传图片素材</a>
									</li>
									<li>
										<a href="#">导出XML文件</a>
									</li>
									<li>
										<a href="#">导入XML文件</a>
									</li>
								</ul>
							</li>
							<!-- <li class="dropdown">
							<a href="#" class="dropdown-toggle" data-toggle="dropdown">
								编辑 <b class="caret"></b>
							</a>
							<ul class="dropdown-menu">
								<li>
									<a href="#">Action</a>
								</li>
								<li>
									<a href="#">Another action</a>
								</li>
								<li>
									<a href="#">Something else here</a>
								</li>
								<li class="divider"></li>
								<li class="nav-header">Nav header</li>
								<li>
									<a href="#">Separated link</a>
								</li>
								<li>
									<a href="#">One more separated link</a>
								</li>
							</ul>
						</li>
						-->
						<li title="分享">
							<a href="#share"> <i class="icon-share"></i>
							</a>
						</li>
					</ul>
					<form class="navbar-search pull-left" action="">
						<input type="text" class="search-query span2" placeholder="搜索素材"></form>
					<ul class="nav pull-right">
						<li>
							<a href="#">XXXX 的用户中心</a>
						</li>
						<li class="divider-vertical"></li>
						<li class="dropdown">
							<a href="#" class="dropdown-toggle" data-toggle="dropdown">
								帮助中心
								<b class="caret"></b>
							</a>
							<ul class="dropdown-menu">
								<li>
									<a href="#">基本操作</a>
								</li>
								<li>
									<a href="#">Another action</a>
								</li>
								<li>
									<a href="#">Something else here</a>
								</li>
								<li class="divider"></li>
								<li>
									<a href="#">Separated link</a>
								</li>
							</ul>
						</li>
					</ul>
				</div>
				<!-- /.nav-collapse -->
			</div>
		</div>
		<!-- /navbar-inner -->
		</div>
	</header>
<nav id="nav"></nav>
<article>
	<nav style="display:none" class="layer">
		<h2>图层属性</h2>
		<script type="text/template" name="layer">
				<ul id="layer" class="nav nav-list">
					{#each( {(layers)} )}
					<li data-index="{(id)}" class="{#if({(active)})}active{/if()}">
						<a href="#attribute_plane_{(id)}"> <i class="icon-chevron-right"></i>
							{(name)}
						</a>
					</li>
					<li class="divider"></li>
					{/each()}
				</ul>
			</script>
	</nav>
	<section id="aside" data-spy="scroll" data-target=".layer">
		<script type="text/template" name="aside">
			<div id="attribute_plane_{(id)}" class="attribute-controller btn-group">
				<button attr-event="remove" data-toggle="tooltip" title="Remove Layer" class="btn span1" style="margin-left: 10px;"> <i class="icon-trash"></i> <!--Remove Layer--> </button>

				<button disabled="{(lock)}" attr-event="float" data-toggle="tooltip" title="Layer Index up" class="btn">
					<i class="icon-chevron-up"></i> <!--Layer Index up--> </button>
				<button disabled="{(lock)}" attr-event="sink" data-toggle="tooltip" title="Layer Index down" class="btn">
					<i class="icon-chevron-down"></i> <!--Layer Index down--> </button>

				<button disabled="{(lock)}" attr-event="fullscreen" data-toggle="tooltip" title="To Background" class="btn">
					<i class="icon-fullscreen"></i> <!--To Background--> </button>
					
				<button disabled="{(lock)}" attr-event="filter" data-toggle="tooltip" title="Filter" class="btn">
					<i class="icon-picture"></i> <!--Filter--> </button>
				{#if({(lock)})}
				<button attr-event="unlock" data-toggle="tooltip" title="Unlock Layer" class="btn">
					<i class="icon-unlock"></i> <!--Unlock Layer--> </button>
				{#else()}
				<button attr-event="lock" data-toggle="tooltip" title="Lock Layer" class="btn">
					<i class="icon-lock"></i> <!--Lock Layer--> </button>
				{/if()}
			</div>
			<br>
		</script>
		<script type="text/template" name="aside_font">
			<div id="attribute_plane_{(id)}" class="attribute-controller btn-group">
				<button attr-event="remove" data-toggle="tooltip" title="Remove Layer" class="btn span1" style="margin-left: 10px;"> <i class="icon-trash"></i> <!--Remove Layer--> </button>

				<button attr-event="edit" data-toggle="tooltip" title="Edit Text" class="btn" style="margin-left: 10px;"> <i class="icon-edit"></i> <!--Edit Text--> </button>

				<button disabled="{(lock)}" attr-event="float" data-toggle="tooltip" title="Layer Index up" class="btn">
					<i class="icon-chevron-up"></i> <!--Layer Index up--> </button>
				<button disabled="{(lock)}" attr-event="sink" data-toggle="tooltip" title="Layer Index down" class="btn">
					<i class="icon-chevron-down"></i> <!--Layer Index down--> </button>

				<!--<button disabled="{(lock)}" attr-event="font_to_img" data-toggle="tooltip" title="Transforme into img layer" class="btn">
					<i class="icon-picture"></i> <!--Transforme into img layer--> </button>-->
				{#if({(lock)})}
				<button attr-event="unlock" data-toggle="tooltip" title="Unlock Layer" class="btn">
					<i class="icon-unlock"></i> <!--Unlock Layer--> </button>
				{#else()}
				<button attr-event="lock" data-toggle="tooltip" title="Lock Layer" class="btn">
					<i class="icon-lock"></i> <!--Lock Layer--> </button>
				{/if()}
			</div>
			<br>
		</script>
	</section>
</article>
<article id="plane" class="span13">
	<nav id="mterial" class="span3">
		<h2>素材面板</h2>
		<script type="text/template" name="mterial">
				<ul class="mterial-panel nav nav-list">
					{#each( {(lists)} )}
					<li class="nav-header title">{(title)}</li>
					<li class="content" style="display: list-item;">
						{#each( {(mterials)} )}
						{#if({(imgSrc)})}
						<img src="{(imgSrc)}" data-type="{(layerAttr.type)}" data-width="{(layerAttr.width)}" data-height="{(layerAttr.height)}" data-src="{(layerAttr.src)}" draggable="true"/>
						{/if()}
						<a>{(title)}</a>
						{/each()}
						</li>
					<li class="divider"></li>
					{/each()}
				</ul>
			</script>
	</nav>
</article>
<footer id="footer"></footer>
<div id="confirmLayer" class="modal hide fade" tabindex="-1" role="dialog" aria-labelledby="myModalLabel" aria-hidden="true">
	<div class="modal-header">
		<button type="button" class="close" data-dismiss="modal" aria-hidden="true">×</button>
		<h3>提示！</h3>
	</div>
	<div class="modal-body">
		<p class="confirmText"></p>
	</div>
	<div class="modal-footer">
		<button class="btn no">取消</button>
		<button class="btn btn-primary yes">确认</button>
	</div>
</div>
<div id="cutLayer" class="modal hide fade" tabindex="-1" role="dialog" aria-labelledby="myModalLabel" aria-hidden="true">
	<div class="modal-header">
		<button type="button" class="close" data-dismiss="modal" aria-hidden="true">×</button>
		<h3>裁剪图层</h3>
	</div>
	<div class="modal-body">
		<p></p>
		<img src=""></div>
	<div class="modal-footer">
		<button class="btn" data-dismiss="modal" aria-hidden="true">关闭</button>
		<button class="btn btn-primary">确定裁剪</button>
	</div>
</div>
<div id="filterLayer" class="modal hide fade" tabindex="-1" role="dialog" aria-labelledby="myModalLabel" aria-hidden="true">
	<div class="modal-header">
		<button type="button" class="close" data-dismiss="modal" aria-hidden="true">×</button>
		<h3>图层滤镜</h3>
	</div>
	<div class="modal-body">
		<div id="filter-studio">
			<img class="img" src=""></div>
		<img class="img" src="">
		<div class="btn-group filter" style="text-align:center">
			<button data-toggle="tooltip" title="Blur" data-filter="Blur" class="btn">模糊</button>
			<button data-toggle="tooltip" title="Desaturate" data-filter="Desaturate" class="btn">黑白</button>
			<button data-toggle="tooltip" title="Sepia" data-filter="Sepia" class="btn">复古</button>
			<button data-toggle="tooltip" title="Emboss" data-filter="Emboss" class="btn">浮雕</button>
			<button data-toggle="tooltip" title="Mosaic" data-filter="Mosaic" class="btn">马赛克</button>
			<button data-toggle="tooltip" title="Glow" data-filter="Glow" class="btn">加亮</button>
			<button data-toggle="tooltip" title="Invert" data-filter="Invert" class="btn">反相</button>
			<button data-toggle="tooltip" title="Remove Noise" data-filter="Remove Noise" class="btn">降噪</button>
		</div>
		<button data-toggle="tooltip" title="Undo" class="btn undo">
			<i class="icon-undo"></i>
		</button>
		<button data-toggle="tooltip" title="Reset" class="btn reset">
			<i class="icon-refresh"></i>
		</button>

	</div>
	<div class="modal-footer">
		<button class="btn" data-dismiss="modal" aria-hidden="true">关闭</button>
		<button id="filter-set" class="btn btn-primary">应用滤镜</button>
	</div>
</div>
</body>
</html>
<script type="text/javascript" src="../js/lib/raphael-min.js"></script>
<script type="text/javascript" src="../js/lib/canvg.js"></script>
<script type="text/javascript" src="../js/lib/rgbcolor.js"></script>
<script type="text/javascript" src="../js/lib/three.min.js"></script>
<script type="text/javascript" src="../js/lib/jquery-2.0.3.min.js"></script>
<script type="text/javascript" src="../js/lib/confirm.js"></script>
<script type="text/javascript" src="../js/lib/pixastic.custom.js"></script>
<script type="text/javascript" src="../js/lib/HTML-ViewParse.min.js"></script>
<script type="text/javascript">ViewParser.scans();</script>
<script type="text/javascript" src="../js/lib/sea.js" id="seajsnode"></script>
<!-- <script type="text/javascript" src="../js/lib/seajs-text.js"></script>
-->
<script type="text/javascript" src="../js/sea.config.js"></script>

<script type="text/javascript">seajs.use("main");//import main.js</script>
<script type="text/javascript" src="js/bootstrap.js"></script>
<script type="text/javascript" src="js/bootstrap-colorpicker.js"></script>
<script type="text/javascript">
	$("#mterial").on("click",".nav-header",function (e) {
		Array.prototype.forEach.call($("#mterial .nav-header"),function(navHeader){
			$(navHeader).next().hide()
		})
		$(this).next().toggle(120);
	});
	// $('#layer').scrollspy()
	document.oncontextmenu=function(ev)  //oncontextmenu事件为鼠标右键
	{
		var oEvent=ev||event;
		// var scrollTop=document.documentElement.scrollTop||document.body.scrollTop;  //获取上下滚动条
		// var scrollLeft=document.documentElement.scrollLeft||document.body.scrollLeft;  //获取左右滚动条
		// var oUl=document.getElementById('ul1');  //获取UL

		// oUl.style.display='block';
		// oUl.style.left=oEvent.clientX+scrollLeft+'px';  //设置X轴的位置
		// oUl.style.top=oEvent.clientY+scrollTop+'px';    //设置Y轴的位置

		return false;  //阻止浏览器默认事件
	};
</script>